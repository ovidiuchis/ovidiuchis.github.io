<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QR – Ovidiu Chiș</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="icon" type="image/png" href="assets/favicon.png" />
    <meta name="robots" content="noindex" />
    <meta name="description" content="QR code for saving Ovidiu Chiș contact card." />
  </head>
  <body>
    <main class="linktree-container" style="max-width: 520px">
      <h1 class="page-title" style="margin-top: 0">Ovidiu Chiș</h1>
      <p class="bio" style="margin-top: 0.2rem">Scan to save contact</p>
      <div class="qr-card mode-professional" id="qrCard" aria-live="polite">
        <div style="position: relative; width: 100%; min-height: 320px">
          <img
            src="assets/qrp.png"
            alt="Professional QR code for saving contact"
            class="qr-image active"
            id="qrProfessional"
            decoding="async"
          />
          <img
            src="assets/qr.png"
            alt="Personal QR code for saving contact"
            class="qr-image"
            id="qrPersonal"
            decoding="async"
          />
        </div>
      </div>
      <div class="qr-toggle" role="tablist" aria-label="QR mode selector">
        <button class="qr-mode-btn active" role="tab" aria-selected="true" id="btnProfessional" data-mode="professional">
          Professional
        </button>
        <button class="qr-mode-btn" role="tab" aria-selected="false" id="btnPersonal" data-mode="personal">Personal</button>
      </div>
      <p class="qr-mode-label" id="qrModeLabel">Professional contact QR • opens vCard download</p>
      <p style="font-size: 0.65rem; margin-top: 0.7rem; color: var(--color-text-faint)">Not linked publicly.</p>
    </main>
    <script>
      (function () {
        const btnProfessional = document.getElementById("btnProfessional");
        const btnPersonal = document.getElementById("btnPersonal");
        const imgProfessional = document.getElementById("qrProfessional");
        const imgPersonal = document.getElementById("qrPersonal");
        const label = document.getElementById("qrModeLabel");
        const card = document.getElementById("qrCard");

        function setMode(mode) {
          const professional = mode === "professional";
          imgProfessional.classList.toggle("active", professional);
          imgPersonal.classList.toggle("active", !professional);
          btnProfessional.classList.toggle("active", professional);
          btnPersonal.classList.toggle("active", !professional);
          btnProfessional.setAttribute("aria-selected", professional);
          btnPersonal.setAttribute("aria-selected", !professional);
          card.classList.toggle("mode-professional", professional);
          card.classList.toggle("mode-personal", !professional);
          label.textContent = professional
            ? "Professional contact QR • opens vCard download"
            : "Personal contact QR • opens vCard download";
        }

        btnProfessional.addEventListener("click", () => setMode("professional"));
        btnPersonal.addEventListener("click", () => setMode("personal"));

        // Allow arrow key navigation
        document.addEventListener("keydown", e => {
          if (e.key === "ArrowLeft" || e.key === "ArrowRight") {
            const activeIsProfessional = btnProfessional.classList.contains("active");
            setMode(activeIsProfessional ? "personal" : "professional");
          }
        });
      })();
    </script>
  </body>
</html>
